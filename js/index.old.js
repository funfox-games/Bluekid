import{onAuthStateChanged,auth,db,doc,getDoc,signOut,forceOffline}from"./util/firebase.js";onAuthStateChanged(auth,async e=>{e&&(e=e.uid,console.log("Logged in: "+e),document.getElementById("signin").innerHTML="Profile",document.getElementById("signin").href="profile/index.html",e=doc(db,"users",e),e=await getDoc(e).then(e=>e.exists()?e.data().username:"UNKNOWN"),document.getElementById("login_name").innerText=e,document.getElementById("yourLoggedIn").showModal(),document.getElementById("yourLoggedIn").addEventListener("close",async e=>{"signout"===document.getElementById("yourLoggedIn").returnValue&&(await forceOffline(),await signOut(auth)),document.getElementById("yourLoggedIn").removeEventListener("close",e)}))}),showNotification(1,"Bluekid is under development mode. Tomarrow may be a little different ;D");