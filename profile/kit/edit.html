<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit kit | Bluekid</title>

    <link rel="stylesheet" href="../../css/all.css">
    <link rel="stylesheet" href="../../css/profile.css">
    <link rel="stylesheet" href="../../css/kit/edit.css">
    <script src="https://kit.fontawesome.com/44f1506527.js" crossorigin="anonymous"></script>
</head>
<body style="padding: 0;">
    <!-- <dialog class="newdialog" id="createquestionpopup">
        <div id="questioncontainer">
            <div id="questioncontainer_top">
                <h3>Image options</h3>
                <div id="imageoptions">
                    <div style="background-color: black;width:512px;height: 256px;">
                        <img id="qimg" alt="cover" height="256" width="512">
                    </div>
                    <div id="questioncontainer_imgoptions">
                        <button id="uploadurlquestion" class="new_puffy_button primary"><i class="fa-light fa-link"></i> Upload URL</button>
                        <button class="new_puffy_button"><i class="fa-light fa-file-import"></i> Upload file</button>
                    </div>
                </div>
                
                <h3>Question</h3>
                <input type="text" id="questiontext" autocomplete="off" style="border: 1px solid black;padding: 40px;"
                    placeholder="Enter question name..." class="input">
            </div>
            <div id="questions" style="margin-top: 5px;">
                <div class="questionbox" style="background-color: rgb(255, 189, 189);padding-left: 5px;">
                    <input type="checkbox" id="q1a">
                    <input type="text" id="q1" autocomplete="off" auto placeholder="*Enter answer text..." style="background-color: transparent;text-align: left;flex-basis: 100%;" class="input">
                </div>
                <div class="questionbox" style="background-color: rgb(189, 255, 194);padding-left: 5px;">
                    <input type="checkbox" id="q2a">
                    <input type="text" id="q2" autocomplete="off" placeholder="*Enter answer text..." style="background-color: transparent;text-align: left;flex-basis: 100%;" class="input">
                </div>
                <div class="questionbox" style="background-color: rgb(189, 225, 255);padding-left: 5px;">
                    <input type="checkbox" id="q3a">
                    <input type="text" id="q3" autocomplete="off" placeholder="Enter answer text..." style="background-color: transparent;text-align: left;flex-basis: 100%;" class="input">
                </div>
                <div class="questionbox" style="background-color: rgb(244, 189, 255);padding-left: 5px;">
                    <input type="checkbox" id="q4a">
                    <input type="text" id="q4" autocomplete="off" placeholder="Enter answer text..." style="background-color: transparent;text-align: left;flex-basis: 100%;" class="input">
                </div>
            </div>
            
        </div>

        <div class="caution" style="display:none;color: black;"><i class="fa-light fa-circle-exclamation"></i> <span id="problem"></span></div>
        <div class="littlespace"></div>
        <form method="dialog">
            <button class="new_puffy_button primary" id="createquestion__btn" type="button"><i class="fa-light fa-circle-plus"></i> Create</button>
            <button class="new_puffy_button danger"><i class="fa-light fa-circle-xmark"></i> Close</button>
        </form>
    </dialog> -->
    <dialog class="newdialog" id="createquestionpopup">
        <div id="questioncontainer">
            <div class="container" style="text-align: center;">
                <p style="opacity: .5;"><i class="fa-light fa-square-question"></i> Question text</p>
                <div class="inputfield" style="margin-top: 0;padding-top: 0;">
                    <input type="text" style="text-align: center;font-size: 2rem;font-weight: bold;" class="input2" placeholder="" autocomplete="off" id="questiontext" required />
                    <!-- <label for="questionText" class="label"><i class="fa-light fa-square-question"></i> Question text</label> -->
                </div>
            </div>
            <div id="imageoptions">
                <div class="questionImageContainer">
                    <div id="imgDragDrop">
                        <p>Drop images here!</p>
                    </div>
                    <div class="centerImageOptions">
                        <h1>Image Options</h1>
                        <button class="new_puffy_button primary" id="uploadImgBtn"><i class="fa-light fa-upload"></i> Upload</button>
                        <button class="new_puffy_button" id="uploadImgUrlBtn"><i class="fa-light fa-link-simple"></i> From link</button>
                    </div>
                    <img id="qimg" src="./asset/templates/kit_temp.png" alt="cover">
                </div>
                <!-- <div id="questioncontainer_imgoptions">
                    <button id="uploadurlquestion" class="new_puffy_button primary"><i class="fa-light fa-link"></i> Upload URL</button>
                    <button class="new_puffy_button"><i class="fa-light fa-file-import"></i> Upload file</button>
                </div> -->
            </div>
            <div id="questions" style="margin-top: 5px;">
                <div class="questionbox container">
                    <textarea id="q1" autocomplete="off" placeholder="*Enter answer text..."></textarea>
                    <input type="checkbox" id="q1a">
                </div>
                <div class="questionbox container">
                    <textarea id="q2" autocomplete="off" placeholder="*Enter answer text..."></textarea>
                    <input type="checkbox" id="q2a">
                </div>
                <div class="questionbox container">
                    <textarea id="q3" autocomplete="off" placeholder="Enter answer text..."></textarea>
                    <input type="checkbox" id="q3a">
                </div>
                <div class="questionbox container">
                    <textarea id="q4" autocomplete="off" placeholder="Enter answer text..."></textarea>
                    <input type="checkbox" id="q4a">
                </div>
                <div class="questionActions container">
                    <button class="new_puffy_button icon"><i class="fa-kit fa-solid-square-check-pen"></i></button>
                    <button class="new_puffy_button icon"><i class="fa-light fa-plus"></i></button>
                </div>
            </div>
        </div>
        
        <div class="caution" style="display:none;"><i class="fa-light fa-circle-exclamation"></i> <span id="problem">aaa</span></div>
        <!-- <div class="littlespace"></div> -->
        <form method="dialog">
            <button class="new_puffy_button primary" id="createquestion__btn" type="button"><i class="fa-light fa-circle-plus"></i> Create</button>
            <button class="new_puffy_button danger"><i class="fa-light fa-circle-xmark"></i> Close</button>
        </form>
    </dialog>
    <dialog id="uploadurldialog__question">
        <form method="dialog" style="text-align: center;">
            <h1>Upload by URL</h1>
            <input type="url" id="uploadurlurl__question" required class="input" placeholder="Enter URL..."
                style="border:1px solid black;margin-bottom: 5px;">
            <div class="caution" style="color:black;display:none;" id="uploadurlnovaild__question"><i
                    class="fa-light fa-circle-exclamation"></i> Not a vaild image / URL.</div>
            <br>
            <button id="uploadurluse__question" type="button" class="new_puffy_button primary"><i class="fa-light fa-file-image"></i>
                Use</button>
            <button type="reset" id="uploadurlclose__question" class="new_puffy_button">Close</button>
        </form>
    </dialog>
    <!-- <dialog id="uploadurldialog">
        <form method="dialog" style="text-align: center;">
            <h1>Upload by URL</h1>
            <input type="url" id="uploadurlurl" required class="input" placeholder="Enter URL..."
                style="border:1px solid black;margin-bottom: 5px;">
            <div class="caution" style="color:black;display:none;" id="uploadurlnovaild"><i
                    class="fa-light fa-circle-exclamation"></i> Not a vaild image / URL.</div>
            <br>
            <button id="uploadurluse" type="button" class="new_puffy_button primary"><i class="fa-light fa-file-image"></i> Use</button>
            <button onclick="document.getElementById('uploadurldialog').close()" id="uploadurlclose" class="new_puffy_button">Close</button>
            
        </form>
    </dialog> -->
    <dialog class="newdialog" id="uploadurldialog">
        <form method="dialog" style="text-align: center;flex-direction: column;">
            <h1>Upload by URL</h1>
            <input type="url" id="uploadurlurl" class="input" placeholder="Enter URL..." style="border:1px solid black;margin-bottom: 5px;">
            <div class="container" id="uploadurlnovaild" style="display: none;"><i class="fa-light fa-circle-exclamation fa-xl"></i> Not a vaild image URL.</div>
            <div style="display: flex;gap:5px;">
                <button id="uploadurluse" style="flex:1;" type="button" class="new_puffy_button primary"><i class="fa-light fa-file-image"></i> Use</button>
                <button id="uploadurlclose" class="new_puffy_button">Close</button>
            </div>
            
        </form>
    </dialog>
    <dialog class="newdialog" id="uploadfiledialog">
        <form method="dialog" style="text-align: center;flex-direction: column;">
            <h1>Upload file</h1>
            <input type="file" id="fileupload" accept="image/*">
            <div class="container" style="display: none;" id="uploadFileInvalidType"><i class="fa-light fa-circle-exclamation fa-xl"></i> Invalid file type.</div>
            <div style="display: flex;gap:5px;">
                <button id="uploadFileUse" type="button" style="flex:1;" class="new_puffy_button primary"><i class="fa-light fa-file-image"></i> Upload</button>
                <button id="uploadfileclose" class="new_puffy_button">Close</button>
            </div>
        </form>
    </dialog>
    <dialog id="toobig">
        <img src="../../asset/bluekidplus/bkpbanner.png" alt="" style="border-radius: 10px;" width="720">
        <h1 style="font-size: 2rem;">File too big!</h1>
        <p>With Bluekid Plus, you can upload up to 35 MB. Currently, you can only upload 5 MB.</p>
        <div class="actions">
            <a href="../purchase/index.html"><button class="new_puffy_button bkp"><i class="fa-light fa-circle-up"></i> Upgrade</button></a>
            <a onclick="document.getElementById('toobig').close()"><button class="new_puffy_button">Back</button></a>
        </div>
    </dialog>
    <dialog id="gif">
        <img src="../../asset/bluekidplus/bkpbanner.png" alt="" style="border-radius: 10px;" width="720">
        <h1 style="font-size: 2rem;">Nice thumbnail!</h1>
        <p>Sadly, only Bluekid Plus users can use animated thumbnails.</p>
        <div class="actions">
            <a href="../purchase/index.html"><button class="new_puffy_button bkp"><i class="fa-light fa-circle-up"></i> Upgrade</button></a>
            <a onclick="document.getElementById('gif').close()"><button class="new_puffy_button">Back</button></a>
        </div>
    </dialog>
    <section id="sectioncontent" main>
        <div class="container actions" style="align-items: center; justify-content: space-between;">
            <h1>Edit kit</h1>
            <p><i class="fa-light fa-triangle-exclamation fa-xl"></i> Kit redesigns aren't fully done. Some parts may not be added / unfinished.</p>
        </div>
        <div class="container actions" id="kitactions" style="justify-content: space-between;">
            <button class="new_puffy_button danger" onclick="history.back()"><i class="fa-light fa-circle-xmark"></i> Back</button>
            <div class="actions">
                <div class="unsaved">
                    <i class="fa-light fa-triangle-exclamation fa-xl"></i>
                    Unsaved changes
                </div>
                <button class="new_puffy_button primary" id="savekit"><i class="fa-light fa-floppy-disk"></i> Save kit</button>
                <button class="new_puffy_button" id="saveleavekit"><i class="fa-light fa-floppy-disk"></i> Save &amp; Leave</button>    
            </div>
        </div>
        <div id="main_container">
            <div style="display: flex;flex-direction: column;gap:5px;">
                <div id="basic_info" class="container">
                    <div>
                        <h2 class="container">Basic info</h2>
                        <div id="covercontainer" style="background-color: black;width:512px;height: 288px;position: relative;">
                            <img id="coverimg" src="../../asset/templates/kit_temp.png" alt="cover" height="288" width="512">
                            <div class="bkptag" hide id="pluskit">PLUS</div>
                            <div id="cover__overlay">
                                <button id="changecoverurl" class="new_puffy_button primary"><i class="fa-light fa-link"></i> Upload with URL</button>
                                <button id="changecoverfile" class="new_puffy_button"><i class="fa-light fa-file"></i> Upload file</button>
                            </div>
                        </div>
                        <!-- <div id="button_container">
                            <button id="share_kit" class="new_puffy_button primary"><i class="fa-light fa-share-from-square"></i> Share</button>
                            <button id="delete_kit" class="new_puffy_button danger"><i class="fa-light fa-trash-can"></i> Delete</button>
                        </div> -->
                        <div style="display:flex;flex-direction: column;">
                            <div class="inputfield" style="flex:1;">
                                <input type="text" class="input2 saveableProperty" placeholder="" autocomplete="off" id="kitname" required />
                                <label for="kitname" class="label"><i class="fa-regular fa-file-signature"></i> Kit name</label>
                            </div>
                            <div class="inputfield" style="flex:1;">
                                <input type="text" class="input2 saveableProperty" placeholder="" autocomplete="off" id="desc" required />
                                <label for="desc" class="label"><i class="fa-regular fa-file"></i> Description</label>
                            </div>
                            <div class="space"></div>
                            <label for="kit_visibility">Privacy</label>
                            <select class="new_select saveableProperty" style="font-size: large;" id="kit_visibility">
                                <option value="public">Public</option>
                                <option value="friends">Friends</option>
                                <option value="private" selected>Private</option>
                            </select>
                            <div class="space"></div>
                            <button class="new_puffy_button primary" id="advancedSettingsBtn"><i class="fa-light fa-gears"></i> Advanced settings</button>
                            <div class="littlespace"></div>
                            <a href="#" id="viewPublicLink"><button style="width: 100%;" class="new_puffy_button"><i class="fa-light fa-globe"></i> View public link</button></a>
                        </div>
                    </div>
                    <!-- <button onclick="document.getElementById('sectioncontent').scrollTo({ top: 0, behavior: 'smooth' })" class="new_puffy_button accent"><i class="fa-light fa-up-to-line"></i> Go to top</button> -->
                </div>
                <div class="statContainer container">
                    <h1>Stats</h1>
                    <div class="stat">
                        <i class="fa-light fa-thumbs-up mainIcon container"></i>
                        <div>
                            <h1>Likes</h1>
                            <span><span id="likes">0</span>/<span id="dislikes">0</span> (<span id="likePercentile">0</span>%)</span>
                        </div>
                    </div>
                    <div class="stat">
                        <i class="fa-light fa-rectangle-history mainIcon container"></i>
                        <div>
                            <h1>Plays</h1>
                            <span id="plays">0</span>
                        </div>
                    </div>
                </div>
            </div>
            <div id="questions_container" class="container">
                <div class="container" style="display: flex;justify-content: space-between;align-items: center;">
                    <div>
                        <h1>Questions (<span id="questionamount">0</span>)</h1>
                        <p style="font-size: .9rem; opacity: .5;">Add questions for your players to answer</p>
                    </div>
                    <button id="createquestion" class="new_puffy_button green"><i class="fa-light fa-circle-plus"></i> Add</button>
                </div>
                <div class="littlespace"></div>
                <div class="littlespace"></div>
                <div id="allQuestions">
                    <div class="container question" id="ex">
                        <div style="background-color: black;width:200px;height: 200px;float:left;">
                            <img style="object-fit: contain;border-radius: 5px;" alt="cover" height="200" width="200">
                        </div>
                        <div class="question_content" style="flex:1;">
                            <div class="question_actions">
                                <h1>question</h1>
                                <div>
                                    <button class="new_puffy_button icon danger pilled"><i class="fa-light fa-trash"></i></button>
                                </div>
                            </div>
                            <div class="question_answers">
                                <p>Answer 1</p>
                                <p>Answer 2</p>
                                <p>Answer 3</p>
                                <p>Answer 4</p>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        <div id="advancedSettings" class="container">
            <div style="display:flex; justify-content: space-between;align-items: center;" class="container">
                <h1>Advanced Settings</h1>
                <button id="closeAdvancedSettings" class="new_puffy_button danger"><i class="fa-light fa-circle-xmark"></i> Close</button>
            </div>
            <div class="littlespace"></div>
            <label class="toggle bluekidplus" for="onlyBkp">
                <input class="toggle_input" type="checkbox" id="onlyBkp">
                <div class="toggle_fill"></div>
                <span>
                    Mark kit as Bluekid+ only
                    <br>
                    <span style="font-size: .75rem;opacity: .75;">Only Bluekid+ users will be able to use this kit</span>
                </span>
            </label>
        </div>
    </section>
    <input type="file" id="uploadQuestionImg" style="display: none;">

    <script type="module" src="../../js/kits/edit.js"></script>
    <script src="../../js/util/notification.js"></script>
</body>
</html>